"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[555],{2555:function(e,s,n){n.r(s),n.d(s,{default:function(){return f}});var r=n(885),a={messagesContainer:"Messages_messagesContainer__L3Ial",messageImg:"Messages_messageImg__l3E12",addMessageChatFormContainer:"Messages_addMessageChatFormContainer__m2VuF",messageChatContainer:"Messages_messageChatContainer__AM-tO"},t=n(2791),o=n(4530),i=n(9813),c=n(8528),u=n(2324),l=n(184),m=function(){var e=(0,c.T)(),s=(0,c.C)((function(e){return e.chat.status}));return(0,t.useEffect)((function(){return e((0,u.WE)()),function(){e((0,u.R7)())}}),[]),(0,l.jsxs)("div",{children:["error"===s&&(0,l.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,l.jsx)(d,{}),(0,l.jsx)(g,{})]})},d=function(){var e=(0,c.C)((function(e){return e.chat.messages})),s=(0,t.useRef)(null),n=(0,t.useState)(!1),o=(0,r.Z)(n,2),i=o[0],u=o[1];return(0,t.useEffect)((function(){var e;i&&(null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),(0,l.jsxs)("div",{className:a.messagesContainer,onScroll:function(e){var s=e.currentTarget;Math.abs(s.scrollHeight-s.scrollTop-s.clientHeight)<300?!i&&u(!0):i&&u(!1)},children:[e.map((function(e,s){return(0,l.jsx)(h,{message:e},s)})),(0,l.jsx)("div",{ref:s})]})},h=t.memo((function(e){var s=e.message;return(0,l.jsxs)("div",{className:a.messageChatContainer,children:[(0,l.jsx)("img",{src:s.photo,className:a.messageImg})," ",(0,l.jsx)("b",{children:s.userName}),(0,l.jsx)("br",{}),s.message,(0,l.jsx)("hr",{})]})})),g=function(){var e=(0,t.useState)(""),s=(0,r.Z)(e,2),n=s[0],m=s[1],d=(0,c.C)((function(e){return e.chat.status})),h=(0,c.T)();return(0,l.jsxs)("div",{className:a.addMessageChatFormContainer,children:[(0,l.jsx)("div",{children:(0,l.jsx)(o.Z,{placeholder:"Enter yore message.",color:"info",variant:"outlined",sx:{mb:"10px"},value:n,onChange:function(e){return m(e.currentTarget.value)}})}),(0,l.jsx)("div",{className:a.formCustomButton,children:(0,l.jsx)(i.o,{children:"Send",onClick:function(){n&&(h((0,u.mY)(n)),m(""))},disabled:"ready"!==d})})]})},f=function(){return(0,l.jsx)("div",{children:(0,l.jsx)(m,{})})}}}]);
//# sourceMappingURL=555.751b17d2.chunk.js.map